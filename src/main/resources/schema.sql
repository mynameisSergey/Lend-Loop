drop table IF EXISTS users cascade;
drop table IF EXISTS requests cascade;
drop table IF EXISTS items cascade;
drop table IF EXISTS bookings cascade;
drop table IF EXISTS comments cascade;
CREATE TABLE IF NOT EXISTS users (  user_id BIGINT GENERATED BY DEFAULT AS IDENTITY NOT NULL,  user_name VARCHAR(255) NOT NULL,  user_email VARCHAR(512) NOT NULL,CONSTRAINT pk_user PRIMARY KEY (user_id),CONSTRAINT UQ_USER_EMAIL UNIQUE (user_email),CONSTRAINT UQ_USER_ID UNIQUE (user_id));
CREATE TABLE IF NOT EXISTS requests (request_id BIGINT GENERATED BY DEFAULT AS IDENTITY NOT NULL,request_description VARCHAR(255) NOT NULL,requestor_id BIGINT NOT NULL,request_created TIMESTAMP WITHOUT TIME ZONE,CONSTRAINT pk_request PRIMARY KEY (request_id));
CREATE TABLE IF NOT EXISTS items (item_id BIGINT GENERATED BY DEFAULT AS IDENTITY NOT NULL ,item_name VARCHAR(255) NOT NULL,item_description VARCHAR(512) NOT NULL,is_available BOOLEAN,owner_id BIGINT REFERENCES users(user_id),request_id BIGINT REFERENCES requests(request_id),CONSTRAINT pk_item PRIMARY KEY (item_id));
CREATE TABLE IF NOT EXISTS bookings (booking_id BIGINT GENERATED BY DEFAULT AS IDENTITY NOT NULL,start_date TIMESTAMP WITHOUT TIME ZONE,end_date TIMESTAMP WITHOUT TIME ZONE,item_id BIGINT NOT NULL,booker_id  BIGINT NOT NULL,status VARCHAR(255) NOT NULL,CONSTRAINT pk_bookings PRIMARY KEY (booking_id));
CREATE TABLE IF NOT EXISTS comments (comment_id BIGINT GENERATED BY DEFAULT AS IDENTITY NOT NULL,created TIMESTAMP WITHOUT TIME ZONE,text VARCHAR(255) NOT NULL,item_id BIGINT NOT NULL,author_id BIGINT NOT NULL,CONSTRAINT pk_comments PRIMARY KEY (comment_id));